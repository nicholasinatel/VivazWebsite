! function (e) {
    function t(o) {
        if (n[o]) return n[o].exports;
        var r = n[o] = {
            exports: {},
            id: o,
            loaded: !1
        };
        return e[o].call(r.exports, r, r.exports, t), r.loaded = !0, r.exports
    }
    var n = {};
    return t.m = e, t.c = n, t.p = "", t(0)
}([function (e, t, n) {
    n(12), e.exports = n(18)
}, , function (e, t, n) {
    "use strict";

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function r(e) {
        u = window.setInterval(function () {
            chrome.runtime.sendMessage(null, {
                context_data: e
            }, null, function (e) {
                e && window.clearInterval(u)
            })
        }, 200)
    }

    function a(e) {
        return "undefined" != typeof chrome && "undefined" == typeof chrome.windows || "undefined" != typeof safari ? d.default.runtime.sendMessage({
            name: "showPopup",
            message: e
        }) : void chrome.windows.getCurrent(function (t) {
            var n = 0,
                o = 0,
                a = 510,
                i = 410;
            n = t.left / 2, o = t.top / 2;
            var d = Math.round(screen.width / 2 - a / 2 - n),
                u = Math.round(screen.height / 2 - i / 2 - o),
                s = chrome.extension.getURL("views/popup.html#context");
            chrome.windows.create({
                url: s,
                type: "popup",
                height: i,
                width: a,
                top: u,
                left: d
            }, function (t) {
                r(e)
            })
        })
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(3),
        d = o(i),
        u = void 0;
    t.default = a
}, function (e, t, n) {
    "use strict";

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(4),
        a = o(r),
        i = n(5),
        d = o(i),
        u = n(6),
        s = o(u),
        l = n(10),
        c = o(l),
        f = {
            popover: a.default,
            runtime: d.default,
            storage: s.default,
            tabs: c.default
        };
    t.default = f
}, function (e, t) {
    "use strict";

    function n() {
        return "undefined" != typeof safari ? safari.extension.popovers[0].hide() : window.close()
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = {
        close: n
    };
    t.default = o
}, function (e, t) {
    "use strict";

    function n(e) {
        if ("undefined" != typeof safari) {
            var t = safari.application ? safari.application : safari.self;
            return t.addEventListener("message", e, !1)
        }
        return chrome.runtime.onMessage.addListener(e)
    }

    function o(e) {
        if ("undefined" != typeof safari) {
            var t = safari.application ? safari.application : safari.self;
            return t.removeEventListener("message", e, !1)
        }
        if ("function" == typeof chrome.runtime.onMessage.removeListener) return chrome.runtime.onMessage.removeListener(e)
    }

    function r(e) {
        if ("undefined" != typeof safari) {
            var t = void 0;
            return t = safari.application ? safari.application.activeBrowserWindow.activeTab.page : safari.self.tab, t.dispatchMessage(e.name, e)
        }
        return chrome.runtime.sendMessage(null, e, function () {})
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var a = {
        addMessageListener: n,
        removeMessageListener: o,
        sendMessage: r
    };
    t.default = a
}, function (e, t, n) {
    "use strict";

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(7),
        a = o(r),
        i = n(9),
        d = o(i);
    t.default = {
        local: a.default,
        sync: d.default
    }
}, function (e, t, n) {
    "use strict";

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(8),
        a = o(r),
        i = (0, a.default)("local");
    t.default = i
}, function (e, t) {
    "use strict";

    function n() {}

    function o(e) {
        e()
    }

    function r(e, t) {
        var n = {};
        if ("object" === ("undefined" == typeof e ? "undefined" : i(e))) {
            var o = Object.getOwnPropertyNames(e);
            o.forEach(function (t) {
                n[t] = e[t]
            })
        } else n[e] = null;
        "function" == typeof t && t(n)
    }

    function a(e) {
        var t = {};
        return d.forEach(function (n) {
            "undefined" == typeof chrome ? u[n] && (t[n] = u[n]) : chrome.storage[e][n] && (t[n] = chrome.storage[e][n].bind(chrome.storage[e]))
        }), t
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
            return typeof e
        } : function (e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        },
        d = ["get", "getBytesInUse", "set", "remove", "clear"],
        u = {
            get: r,
            set: o,
            remove: n,
            clear: n
        };
    t.default = a
}, function (e, t, n) {
    "use strict";

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function r() {
        return "undefined" == typeof chrome || "undefined" == typeof chrome.storage.sync ? i.default : (0, u.default)("sync")
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var a = n(7),
        i = o(a),
        d = n(8),
        u = o(d),
        s = r();
    t.default = s
}, function (e, t) {
    "use strict";

    function n(e) {
        "undefined" != typeof chrome ? chrome.tabs.captureVisibleTab(null, {
            format: "png",
            quality: 100
        }, e) : safari.application.activeBrowserWindow.activeTab.visibleContentsAsDataURL(e)
    }

    function o(e) {
        if ("undefined" != typeof chrome) return chrome.tabs.create(e);
        var t = safari.application.activeBrowserWindow.openTab();
        t.url = e.url
    }

    function r(e, t) {
        return "undefined" != typeof chrome ? chrome.tabs.sendMessage(e.id, t) : e.page.dispatchMessage(t.name, t)
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var a = {
        captureVisibleTab: n,
        create: o,
        sendMessage: r
    };
    t.default = a
}, , function (e, t, n) {
    "use strict";

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function r() {
        var e = a(),
            t = i();
        return Object.assign({}, t, e)
    }

    function a() {
        var e = void 0,
            t = document.querySelector('meta[property="og:description"], meta[name="og:description"]');
        if (t) e = t.getAttribute("content");
        else {
            var n = document.querySelector('meta[name="description"]');
            n && (e = n.getAttribute("content"))
        }
        return {
            description: e
        }
    }

    function i() {
        for (var e = {
                images: [],
                thumbnail: null
            }, t = document.querySelectorAll("img"), n = document.querySelector('meta[property="og:image"], meta[property="og:image:url"], meta[name="og:image"], meta[name="og:image:url"]'), o = void 0, r = 0; r < t.length; r++) {
            var a = t[r];
            if ((0, E.default)(a)) {
                var i = a.hasAttribute("data-canonical-src") ? a.getAttribute("data-canonical-src") : a.src;
                e.images.push((0, v.default)(i))
            }
        }
        return n && (o = n.getAttribute("content"), o.match(/\.webp$/) && (o = null)), o && o !== window.location.origin && (e.thumbnail = (0, v.default)(o)), e
    }

    function d(e) {
        return "IMG" === e.nodeName ? e.src : "A" === e.nodeName ? e.href : void 0
    }

    function u(e) {
        var t = !1;
        if (e.dataTransfer.types) "function" == typeof e.dataTransfer.types.indexOf ? t = e.dataTransfer.types.indexOf("text/uri-list") >= 0 : "function" == typeof e.dataTransfer.types.contains && (t = e.dataTransfer.types.contains("text/uri-list"));
        else {
            var n = d(e.target);
            if (!n) return;
            e.dataTransfer.setData("text/uri-list", n), e.dataTransfer.setData("text/html", e.target.outerHTML.toString()), e.dataTransfer.setData("text/plain", n), t = !0
        }
        t && f()
    }

    function s(e) {
        c()
    }

    function l(e, t, n) {
        if ("scrapePage" === e.name) {
            var o = r();
            "function" == typeof n ? n(o) : "undefined" != typeof safari && safari.self.tab.dispatchMessage("ScrapedPageData", o)
        } else "undefined" != typeof safari && "showPopup" === e.name && (0, M.default)(e.message.message)
    }

    function c() {
        P && (P.destroy(), P = null)
    }

    function f() {
        P = new h.default
    }

    function p(e) {
        var t = {},
            n = e.target.nodeName,
            o = {
                IMG: "image",
                VIDEO: "video",
                AUDIO: "audio"
            };
        if (o.hasOwnProperty(n) && e.target.currentSrc) t[o[n]] = (0, v.default)(e.target.currentSrc), t.link = (0, w.default)(e.target);
        else if ("A" === n) t.link = (0, v.default)(e.target.href);
        else {
            var r = window.getSelection().toString();
            r && "" !== r && (t.selection = r)
        }
        safari.self.tab.setContextMenuEventUserInfo(e, t)
    }
    var m = n(13),
        h = o(m),
        g = n(14),
        v = o(g),
        y = n(15),
        w = o(y),
        b = n(16),
        x = o(b),
        _ = n(2),
        M = o(_),
        O = n(17),
        E = o(O),
        L = n(3),
        D = o(L),
        P = void 0;
    (0, x.default)(), window.top === window && (D.default.storage.sync.get({
        drag_enabled: !0
    }, function (e) {
        e.drag_enabled && (document.addEventListener("dragstart", u, !1), document.addEventListener("dragend", s, !1))
    }), D.default.runtime.addMessageListener(l), "undefined" != typeof safari && document.addEventListener("contextmenu", p, !1))
}, function (e, t, n) {
    "use strict";

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(14),
        a = o(r),
        i = n(2),
        d = o(i),
        u = function () {
            var e = document.createElement("style"),
                t = document.createElement("div"),
                n = document.createElementNS("http://www.w3.org/2000/svg", "svg"),
                o = document.createElementNS("http://www.w3.org/2000/svg", "path");
            t.classList.add("dropmark"), t.setAttribute("title", "Drop here to add to Dropmark"), n.setAttribute("viewBox", "0 0 16 16"), o.setAttribute("d", "M8.10787172,-0.134387352 C8.10787172,-0.134387352 2.20699708,4.06386338 2.20699708,9.96473801 C2.20699708,13.2242132 4.8483965,15.8656126 8.10787172,15.8656126 C11.3673469,15.8656126 14.0087464,13.2242132 14.0087464,9.96473801 C14.0087464,4.06386338 8.10787172,-0.134387352 8.10787172,-0.134387352 L8.10787172,-0.134387352 Z M8.10787172,13.3874785 L8.10787172,13.3874785 L4.94169096,9.74316367 L6.35276968,9.74316367 L6.35276968,5.57989836 L9.86297376,5.57989836 L9.86297376,9.74316367 L11.2740525,9.74316367 L8.10787172,13.3874785 L8.10787172,13.3874785 Z"), n.appendChild(o), t.appendChild(n), e.id = "dropmark__styles", e.textContent = "@keyframes show {\n    from {\n      opacity: 0;\n      transform: translate3d(100px,0,0);\n    }\n    to {\n      opacity: 1;\n      transform: translate3d(0,0,0);\n    }\n  }\n\n  .dropmark {\n    animation: show 300ms ease;\n    background: #fff;\n    border-radius: 50%;\n    box-shadow: 0 0 3px rgba(0,0,0,0.1);\n    height: 100px;\n    position: fixed;\n    right: 10px;\n    top: 50%;\n    text-align: center;\n    margin-top: -50px;\n    width: 100px;\n    z-index: 2147483647;\n    transition: all 300ms ease;\n  }\n\n  .dropmark svg {\n    width: 64px;\n    height: 64px;\n    margin: -32px 0 0 -32px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    pointer-events: none;\n  }\n\n  .dropmark path {\n    fill: #38dedf;\n  }\n\n  .dropmark--dragenter {\n    background: #38dedf;\n    transform: scale(2);\n    transform-origin: right center;\n  }\n\n  .dropmark--dragenter path {\n    fill: #fff;\n  }", document.head.appendChild(e), document.body.appendChild(t), this.element = document.querySelector(".dropmark"), this.init()
        };
    u.prototype.handleDragEnter = function (e) {
        e.preventDefault(), e.target.classList.add("dropmark--dragenter")
    }, u.prototype.handleDragLeave = function (e) {
        e.target.classList.remove("dropmark--dragenter")
    }, u.prototype.handleDragOver = function (e) {
        e.preventDefault()
    }, u.prototype.handleDrop = function (e) {
        e.preventDefault();
        var t = e.dataTransfer.getData("text/html"),
            n = t.match(/\ssrc="([\S]+)"/),
            o = t.match(/<a\s/),
            r = void 0;
        if (n) {
            var i = n[1].replace(/&amp;/g, "&");
            r = {
                content: (0, a.default)(i),
                link: window.location.href,
                name: document.title,
                type: "image"
            }
        } else o && (r = {
            content: e.dataTransfer.getData("URL"),
            link: window.location.href,
            type: "link"
        });
        r && (r.ga_source = "Drop target", (0, d.default)(r))
    }, u.prototype.destroy = function () {
        var e = document.querySelector("#dropmark__styles");
        this.element && document.body.removeChild(this.element), e && document.head.removeChild(e)
    }, u.prototype.init = function () {
        this.element.addEventListener("dragenter", this.handleDragEnter, !1), this.element.addEventListener("dragleave", this.handleDragLeave, !1), this.element.addEventListener("dragover", this.handleDragOver, !1), this.element.addEventListener("drop", this.handleDrop, !1)
    }, t.default = u
}, function (e, t) {
    "use strict";

    function n(e) {
        return 0 === e.indexOf("//") ? window.location.protocol + e : 0 === e.indexOf("/") ? window.location.origin + e : e.indexOf("http") === -1 ? 0 === e.indexOf("data") ? e : window.location.origin + "/" + e : e
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = n
}, function (e, t, n) {
    "use strict";

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function r(e) {
        for (var t = e, n = void 0; null !== t && t.nodeType === Node.ELEMENT_NODE && "A" !== t.nodeName;) t = t.parentNode, "A" === t.nodeName && (n = (0, i.default)(t.href));
        return n
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var a = n(14),
        i = o(a);
    t.default = r
}, function (e, t) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function () {
        "function" != typeof Object.assign && (Object.assign = function (e) {
            if (null === e) throw new TypeError("Cannot convert undefined or null to object");
            e = Object(e);
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                if (null !== n)
                    for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        })
    }
}, function (e, t) {
    "use strict";

    function n(e) {
        return (e.naturalHeight >= 200 || e.naturalWidth >= 200) && e.naturalHeight >= 50 && e.naturalWidth >= 50
    }

    function o(e) {
        var t = e.hasAttribute("data-canonical-src") ? e.getAttribute("data-canonical-src") : e.src,
            n = ["gravatar.com/avatar", "doubleclick.net"],
            o = n.some(function (e) {
                return t.indexOf(e) >= 0
            }),
            r = t.match(/\.webp$/);
        return !o && !r
    }

    function r(e) {
        return Boolean(e.offsetWidth || e.offsetHeight || e.getClientRects().length)
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var a = function (e) {
        var t = [n, r, o],
            a = t.some(function (t) {
                return !t(e)
            });
        return !a
    };
    t.default = a
}, function (e, t, n) {
    "use strict";

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function r() {
        return f(), document.body && (document.body.style.overflowY = "visible"), p(), document.documentElement.style.overflow = "hidden", c(), s()
    }

    function a() {
        for (var e in x) document.getElementById(x[e]) && (document.getElementById(x[e]).style.display = w[x[e]].display);
        document.documentElement.style.overflow = w.overflow, document.body && (document.body.style.overflowY = w.bodyOverflow), window.scrollTo(w.x, w.y)
    }

    function i(e, t) {
        "captureTab" === e.name ? r() : "processNextArrangement" === e.name && (window.clearTimeout(y), s())
    }

    function d() {
        h.default.runtime.sendMessage({
            name: "captureTabComplete"
        })
    }

    function u(e) {
        return Math.max.apply(Math, e.filter(function (e) {
            return e
        }))
    }

    function s() {
        if (!v.length) return a(), d();
        var e = v.shift(),
            t = e[0],
            n = e[1];
        window.scrollTo(t, n), window.setTimeout(l, g)
    }

    function l() {
        var e = {
            name: "capture",
            message: {
                x: window.scrollX,
                y: window.scrollY,
                windowWidth: window.innerWidth,
                totalWidth: b.fullWidth,
                totalHeight: b.fullHeight
            }
        };
        y = window.setTimeout(a, 1250), h.default.runtime.sendMessage(e)
    }

    function c() {
        for (v = []; b.yPos > -b.yDelta;) {
            for (b.xPos = 0; b.xPos < b.fullWidth;) v.push([b.xPos, b.yPos]), b.xPos += b.xDelta;
            b.yPos -= b.yDelta
        }
    }

    function f() {
        w.bodyOverflow = document.body ? document.body.style.overflowY : "", w.x = window.scrollX, w.y = window.scrollY, w.overflow = document.documentElement.style.overflow;
        for (var e in x)
            if (document.getElementById(x[e])) {
                var t = document.getElementById(x[e]);
                w[x[e]] = {
                    display: t.style.display
                }, t.style.display = "none"
            }
    }

    function p() {
        var e = document.body,
            t = 200,
            n = [document.documentElement.clientWidth, e ? e.scrollWidth : 0, document.documentElement.scrollWidth, e ? e.offsetWidth : 0, document.documentElement.offsetWidth],
            o = [document.documentElement.clientHeight, e ? e.scrollHeight : 0, document.documentElement.scrollHeight, e ? e.offsetHeight : 0, document.documentElement.offsetHeight];
        b.fullWidth = u(n), b.fullHeight = u(o), b.yDelta = window.innerHeight - (window.innerHeight > t ? t : 0), b.xDelta = window.innerWidth, b.yPos = b.fullHeight - window.innerHeight, b.fullWidth <= b.xDelta + 1 && (b.fullWidth = b.xDelta)
    }
    var m = n(3),
        h = o(m),
        g = 150,
        v = void 0,
        y = void 0,
        w = {
            overflow: null,
            bodyOverflow: null,
            x: 0,
            y: 0
        },
        b = {},
        x = ["intercom-container", "hs-beacon", "livechat-compact-container", "livechat-eye-catcher", "contact-widget-launcher", "hbl-live-chat-wrapper", "hubspot-messages-iframe-container", "drift-widget-container"];
    window.hasDropmarkCapture || window.top !== window || (window.hasDropmarkCapture = !0, h.default.runtime.addMessageListener(i))
}]);